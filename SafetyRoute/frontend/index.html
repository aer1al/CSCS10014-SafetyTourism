<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OptiRoute - AI Map</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="css/base.css" />
    <link rel="stylesheet" href="css/sidebar.css" />
    <link rel="stylesheet" href="css/map.css" />
    <link rel="stylesheet" href="css/chat.css" />
    <link rel="stylesheet" href="css/feature.css" />
  </head>
  
  <body>
    <header>
        <div class="header-content">
            <div class="logo">
                <h1 style="display: flex; align-items: center;">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right: 10px;">
                        <path d="M12 2C8.13 2 5 5.13 5 9C5 14.25 12 22 12 22C12 22 19 14.25 19 9C19 5.13 15.87 2 12 2ZM9.5 14.5L7.5 12.5L8.91 11.09L10.5 12.67L15.09 8.08L16.5 9.5L9.5 14.5Z" fill="white"/>
                        <path d="M12 6.5C10.62 6.5 9.5 7.62 9.5 9C9.5 10.38 10.62 11.5 12 11.5C13.38 11.5 14.5 10.38 14.5 9C14.5 7.62 13.38 6.5 12 6.5Z" fill="#00509d"/>
                    </svg>
                    OptiRoute
                </h1>
            </div>
            <nav>
                <a href="index.html" class="active">Feature</a>
                <a href="home.html">Home</a>
                <a href="team.html">Team</a>
                <a href="about.html">About</a>
            </nav>
        </div>
    </header>
    
    <div class="sidebar" id="sidebar">
      <button class="toggle-btn" id="toggleBtn">â—€</button>

      <div class="sidebar-content">
        <div class="search-container">
          <h3>ğŸš© TÃ¬m Lá»™ TrÃ¬nh</h3>

          <div class="demo-switch-container">
            <label class="switch">
              <input type="checkbox" id="demoToggle">
              <span class="slider round"></span>
            </label>
            <span class="switch-label">Cháº¿ Ä‘á»™ Demo (MÆ°a bÃ£o giáº£ láº­p)</span>
          </div>

          <div class="input-group">
            <label>Äiá»ƒm báº¯t Ä‘áº§u</label>
            <div class="autocomplete-wrapper">
              <input type="text" id="startPoint" placeholder="Nháº­p vá»‹ trÃ­..." autocomplete="off" />
              <ul id="start-results" class="results-list"></ul>
            </div>
          </div>

          <div class="input-group">
            <label>Äiá»ƒm Ä‘áº¿n</label>
            <div class="autocomplete-wrapper">
              <input type="text" id="endPoint" placeholder="Nháº­p nÆ¡i Ä‘áº¿n..." autocomplete="off" />
              <ul id="end-results" class="results-list"></ul>
            </div>
          </div>

          <div class="input-group">
            <label>PhÆ°Æ¡ng tiá»‡n</label>
            <select id="vehicleMode" class="custom-select">
                <option value="motorbike">ğŸ›µ Xe mÃ¡y (KhuyÃªn dÃ¹ng)</option>
                <option value="car">ğŸš— Ã” tÃ´ / Taxi</option>
                <option value="bus">ğŸšŒ Xe buÃ½t</option>
                <option value="bicycle">ğŸš² Xe Ä‘áº¡p</option>
                <option value="walking">ğŸš¶ Äi bá»™</option>
            </select>
          </div>

          <div class="preferences-box">
             <label class="pref-title">Æ¯u tiÃªn trÃ¡nh:</label>
             
             <div class="pref-row">
                <span class="pref-label">â›ˆï¸ Ngáº­p/BÃ£o</span>
                <input type="range" id="pref-weather" class="styled-slider" min="0" max="2" step="0.5" value="1.5">
             </div>

             <div class="pref-row">
                <span class="pref-label">ğŸ‘¥ ÄÃ¡m Ä‘Ã´ng</span>
                <input type="range" id="pref-crowd" class="styled-slider" min="0" max="2" step="0.5" value="1.0">
             </div>
             
          </div>

          <button id="searchBtn" class="btn-primary">
            ğŸ” PhÃ¢n tÃ­ch AI & TÃ¬m Ä‘Æ°á»ng
          </button>
        </div>

        <div id="status-area"></div>
      </div>
    </div>

    <div id="map"></div>

    <div class="layer-control-bar">
      <label class="modern-toggle weather-toggle">
        <input type="checkbox" id="chk-weather" checked />
        <span class="toggle-content">
          <span class="icon">â›ˆï¸</span> <span class="label">Thá»i tiáº¿t</span>
        </span>
      </label>
      <div class="divider"></div>
      <label class="modern-toggle disaster-toggle">
        <input type="checkbox" id="chk-disaster" checked />
        <span class="toggle-content">
          <span class="icon">âš¡</span> <span class="label">ThiÃªn tai</span>
        </span>
      </label>
      <div class="divider"></div>
      <label class="modern-toggle crowd-toggle">
        <input type="checkbox" id="chk-crowd" />
        <span class="toggle-content">
          <span class="icon">ğŸ‘¥</span> <span class="label">Äiá»ƒm nÃ³ng</span>
        </span>
      </label>
    </div>

    <div class="chat-toggle-btn" id="chat-toggle-btn">
        <div class="chat-icon">ğŸ¤–</div>
    </div>

    <div class="chat-widget" id="chat-widget">
        <div class="chat-header">
            <div class="header-info">
                <div class="avatar-bot">ğŸ¤–</div>
                <div class="title-container">
                    <h3>Safety Assistant</h3>
                    <span class="status-badge"><span class="dot"></span> Online</span>
                </div>
            </div>
            <button id="close-chat" class="close-btn">âœ•</button>
        </div>
        <div class="chat-body" id="chat-messages">
            <div class="message bot">
                <div class="msg-content">Xin chÃ o! ğŸ‘‹ TÃ´i lÃ  trá»£ lÃ½ AI Safety.</div>
            </div>
        </div>
        <div class="chat-footer">
            <input type="text" id="chat-input" placeholder="Há»i vá» lá»™ trÃ¬nh..." autocomplete="off">
            <button id="send-btn">â¤</button>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="js/map_radar.js"></script>
    <script src="js/search.js"></script>
    <script src="js/find_route.js"></script>
    <script src="js/layers.js"></script>
    <script src="js/chat.js"></script>
  </body>
</html>